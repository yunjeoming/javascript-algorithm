# 프로그래머스 - 무인도 여행

이 문제를 처음봤을 때, dfs? bfs? 뭐로 풀지? 고민했는데 우선 하나에 집중하는게 좋을 것 같아 dfs로 구현했다.

처음 구현했던 코드에 큰 문제는 없어보였는데 생각보다 에러가 많았다.

아래는 처음 제출했던 코드다.

```js
function solution(maps) {
  var answer = [];
  maps = maps.map((m) => [...m].map((s) => (isNaN(+s) ? -1 : +s)));

  let dy = [1, -1, 0, 0];
  let dx = [0, 0, 1, -1];
  let total = 0;

  const dfs = (x, y) => {
    if (maps[x][y] == -1) {
      return false;
    }

    total += maps[x][y];
    maps[x][y] = -1;

    for (let i = 0; i < 4; i++) {
      let nx = x + dx[i];
      let ny = y + dy[i];

      if (nx < 0 || ny < 0 || ny > maps.length || nx > maps.length) {
        return false;
      }

      dfs(nx, ny);
    }
  };

  for (let i = 0; i < maps.length; i++) {
    for (let j = 0; j < maps.length; j++) {
      dfs(i, j);
      if (total > 0) {
        answer.push(total);
      }
      total = 0;
    }
  }
  return answer.length ? answer.sort((a, b) => a - b) : [-1];
}
```

정답을 볼까 말까 엄청 고민했지만 혼자 힘으로 풀어내리라 다짐하고 정답을 보고 싶은 마음을 꾹 참아냈다.

## 1. 2차 배열 N x M은 정사각형 또는 직사각형

내가 간과한 부분이었다.
이전에 풀어오던 문제들 대부분이 정사각형이어서 maps도 가로 세로 길이가 같은줄 알았는데 자세히 보니 달랐다.

x, y의 범위를 천천히 생각해보고 y를 maps.length가 아닌 maps[0].length로 바꾸었다.

### 📌 가끔 헷갈리는 (x, y)

2차 배열, 즉 행렬에서의 (x, y)와 x축-y축 그래프에서의 (x, y) 좌표가 가끔 헷갈린다.....!!!!
행렬이 아직 익숙하지 않은 상황에서 그래프 (x, y) 좌표와 겹치니 아주 죽을 맛이다.

그래프에서는 가로의 위치가 x, 세로의 위치가 y인 반면에 배열에선 세로의 위치가 x, 가로의 위치가 y다.

위에 maps.length, maps[0].length를 변경할 때 갑자기 헷갈리기 시작하면서 한 5분 정도 뇌에 정지가 왔는데, 이건 문제를 계속 풀어가면서 적응해야 할 것 같다.

## 2. 범위 설정을 제대로 하자

위의 1번을 해결하고나니 maps[x][y]에서 y가 undefined라는 에러가 발생했다.

여기서도 대체 뭐가 잘못된걸까 찾아보니 nx, ny의 범위를 잘못 정해놨다.

maps 범위 밖으로 벗어나면 재귀함수를 실행시키지 않도록 했는데, 최대 범위를 maps.length로 해놔서 인덱스가 maps.length까지 갔던 것이다.

위 1번에서부터 2번까지 에러를 해결하면서 느낀건데, 범위는 변수 선언해놓고 밑에서 가져다 쓰는게 최고인갑다.😓

## 3. for 문에서 return 사용은 그만..!

정~말 다 해결했다고 생각했는데 24점인가 27점인가 나왔다. 여기서 생각보다 많은 시간을 소요했다.

테스트 케이스도 이것저것 넣어봐도 문제 없이 잘 통과되고,, 대체 뭐가 문제일까 고민하는 와중에

아뿔싸!! 갑자기 머리를 한 대 맞은 것 마냥 *내가 for문에 return을 사용했나?*라는 생각이 떠올랐다. 아니나 다를까, for 문을 다 돌아야 하는데 return으로 종료를 시켜버리고 있었다...^^

return을 continue로 수정하고 제출하니 바로 통과했다.

## 오늘의 교훈

구현이 잘 되었다고 생각했지만 소소한 오류가 몇 개씩 꼭 나타났다.
아직 코테에 익숙하지 않은 것도 있지만, 칠칠맞게 실수하고 다니는 것도 큰 것 같다.☹️
